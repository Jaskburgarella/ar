<html>
<head>
<script src="./aframe-min.js"></script>
<script src="./aframe-ar-nft.js"></script>

<style>
  .arjs-loader {
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .arjs-loader div {
    text-align: center;
    font-size: 1.25em;
    color: white;
  }
</style>

</head>

<body style="margin : 0px; overflow: hidden;">
<div id="body">



  <!-- minimal loader shown until image descriptors are loaded -->
  <div class="arjs-loader">
    <div>Loading, please wait...</div>
  </div>
  
<script> 
var h;


  AFRAME.registerComponent('vis', {
  schema: {type: 'string'},

  init: function () {
  

  
  },
  
  valutazione: function(){
  
  
  
    //var stringToLog = this.data;
    //console.log(this.el);
	 var ext=(Date.now()%2);
	 if (ext==1){
	 alert(ext);
	 this.el.setAttribute('visible',true); 
	/*  var iw=window.innerWidth;
	  var ih=window.innerHeight;
	  var t=ih-100;

	 document.body.innerHTML +=""+
    "<div id=\"pannello\" style=\"position:absolute; top:"+t+"px;left:1px;width:300px;height:80px;background-color:white;color:black;z-index:1;\">"+
    "<div>Congratulazioni, sconto Taglio </div></div>";
	
	 */
	 
              }else
			  {
             alert(ext);			  
			  this.el.setAttribute('visible',false); 
			  
/*	  var iw=window.innerWidth;
	  var ih=window.innerHeight;
	  var t=ih-100;

	 document.body.innerHTML +=""+
    "<div id=\"pannello\" style=\"position:absolute; top:"+t+"px;left:1px;width:300px;height:80px;background-color:white;color:black;z-index:1;\">"+
    "<div>ritenta </div></div>";			  
	*/		 
			  }
  
  
  

  
  }
  
  
  
});





/*


 AFRAME.registerComponent('vs', {
  schema: {type: 'string'},

  init: function () {
    //var stringToLog = this.data;
	},
  
  abortscena: function(){
  //this.el.setAttribute('visible',false);
  //alert('dentro abort');
 // h=this.el;
 // console.log(this.el);
 
//  document.getElementById('arjs-video').parentNode.removeChild(document.getElementById('arjs-video'))
document.body.innerHTML +=""+
"<div id=\"pannello\" style=\"position:absolute; top:100;left:1;width:300px;height:500px;background-color:white;color:black;z-index:1;\">"+
"<div>ciao</div></div>";

//  alert('hai vinto clicca per iscriverti')

  //this.el.sceneEl.parentNode.removeChild(this.el.sceneEl); 

 }
  
  
  
});
*/

  
</script>  
 
 

 
 
   <a-scene
	vr-mode-ui="enabled: false;"
    renderer="logarithmicDepthBuffer: true;"
    embedded
    arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
  >
    <!-- we use cors proxy to avoid cross-origin problems -->
    <a-nft
      type="nft"
      url="https://jaskburgarella.github.io/ar/logoparrucchiere"
	  smooth="true"
      smoothCount="10"
      smoothTolerance=".01"
      smoothThreshold="5"
    >
	  
	  
	  <a-entity
	    vis=""
		visible="false"
		gltf-model="https://jaskburgarella.github.io/ar/mushrooms.gltf"
        scale="3 3 3"
	    position="80 20 -40"
	    rotation="270 -270 -90"
      >
      </a-entity>
   

   </a-nft>
   <a-entity camera></a-entity> 
  </a-scene> 
  

  
<script>  
 /* setTimeout(function(){
document.querySelector('[vis]').components.vis.prova(); // valida anche la seconda dichiarazione 

// #2 // var header=document.querySelector('[log]').components.log;
	  //  header.prova();
  },4000);
*/

document.querySelector('[vis]').components.vis.valutazione(); // valida anche la seconda dichiarazione 
</script>  
  
  





 <script>  
/*  setTimeout(function(){
document.querySelector('[vs]').components.vs.abortscena(); // valida anche la seconda dichiarazione 
  },7000);
*/
</script> 

 
<script>
/*var sceneEl = document.querySelector('a-scene');
var btn =document.createElement("button");
btn.innerHTML = "Hello Button";
//document.body.appendChild(btn);
// Do `.setAttribute()`s to initialize the entity.
sceneEl.appendChild(btn);
*/
</script>

 
  <script>
  // setTimeout(function(){alert('c1');},1000);
  //setTimeout(function(){alert('oggettovisibile')},20000);

 /* document.body.innerHTML +=""+
  
"<a-scene vr-mode-ui=\"enabled: false;\" renderer=\"logarithmicDepthBuffer: true;\" "+
"embedded arjs=\"trackingMethod: best; sourceType: webcam;debugUIEnabled: false;\">"+
   
"   <a-nft type=\"nft\" url=\"https://jaskburgarella.github.io/ar/skate\" smooth=\"true\" smoothCount=\"10\" smoothTolerance=\".01\" smoothThreshold=\"5\" >"+
"   <a-entity log=\"estrai\" visible=\"\" gltf-model=\"https://jaskburgarella.github.io/ar/scene.gltf\" scale=\"3 3 3\" "+
	"    position=\"80 20 -40\" "+
	"    rotation=\"270 -270 -90\">"+
"  </a-entity></a-nft><a-entity camera></a-entity></a-scene>";  
*/  
  
  
  
  
  
  
  


  </script>
  
</div>  
</body>
</html>